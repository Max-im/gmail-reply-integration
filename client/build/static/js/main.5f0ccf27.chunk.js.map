{"version":3,"sources":["store/store.js","store/actions/constants.js","store/reducers/authReducer.js","store/reducers/accountsReducer.js","store/reducers/labelsReducer.js","store/reducers/inputReducer.js","store/reducers/integrationReducer.js","store/reducers/index.js","components/Common/PrivateRoute.js","components/Header/MainMenu/index.js","config/index.js","store/actions/utils/auth.js","components/Header/AuthMenu/UserData/index.js","store/actions/auth.js","components/Header/AuthMenu/Login/index.js","components/Header/AuthMenu/index.js","components/Header/index.js","components/Footer/index.js","components/Home/index.js","components/General/Overlay/index.js","store/actions/labels.js","store/actions/accounts.js","components/Settings/AccountsControl/index.js","components/Settings/LabelsControl/index.js","components/Settings/index.js","components/SelectFile/index.js","store/actions/input.js","components/SelectSheet/index.js","store/actions/utils/integration.js","store/actions/utils/getInputData.js","store/actions/utils/output.js","store/actions/utils/compare.js","store/actions/utils/update.js","store/actions/integration.js","components/Integration/index.js","index.js","components/App/index.js","img/logo.png","img/homePage.png","img/spinner.gif"],"names":["middlewareContent","ADD_INFO","initialState","isAuth","user","error","inProcess","accounts","labels","files","filesReady","filesError","sheets","sheetsReady","sheetError","actions","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","keys","payload","input","integration","concat","toConsumableArray","text","middleware","thunk","applyMiddleware","apply","store","createStore","rootReducer","connect","_ref","Component","component","rest","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","to","MainMenu","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","inherits","createClass","key","value","className","react_router_dom","style","width","src","logo","alt","Fragment","activeClassName","env","process","client_id","REACT_APP_CLIENT_ID","client_secret","REACT_APP_CLIENT_SECRET","redirect_uri","REACT_APP_REDIRECT_URL","scope","REACT_APP_SCOPE","client_id_user","REACT_APP_CLIENT_ID_USER","client_secret_user","REACT_APP_CLIENT_SECRET_USER","redirect_uri_user","REACT_APP_REDIRECT_URL_USER","scope_user","REACT_APP_SCOPE_USER","getTokenFromCode","authData","Promise","resolve","reject","params","grant_type","axios","post","headers","Content-Type","then","res","data","catch","err","console","setAuthToken","token","defaults","common","index","picture","name","onClick","onLogout","dispatch","window","confirm","localStorage","removeItem","response","google_authorize","clientId","accessType","responseType","onSuccess","onLogin","onFailure","asyncToGenerator","regenerator_default","mark","_callee","code","wrap","_context","prev","next","sent","setItem","decoded","jwt_decode","t0","abrupt","stop","_x","AuthMenu","_this$props$auth","UserData","Login","Header","Header_MainMenu","Header_AuthMenu","Footer","Date","getFullYear","href","rel","target","HomePage","bg","Overlay","spinner","getLabels","get","getAccounts","AccountsControl","_this","_this$props$accounts","map","item","i","_id","email","removeAccount","bind","createAccount","id","delete","LabelsContorl","_this$props$labels","label","toggleCheck","checked","put","Settings","lablInProcess","isReady","Settings_AccountsControl","LabelsControl","FilesList","_getPrototypeOf2","_len","args","Array","_key","call","search","onSearch","getFiles","filtred","_this2","_this$props$input","_this$state","trim","reg","RegExp","filter","match","textMessage","autoComplete","placeholder","onFocus","setState","onBlur","onChange","e","defineProperty","sort","b","SheetsList","getSheets","sheetId","title","wordWrap","_ref2","withRouter","getDbThreads","getInputData","fileId","sheetName","sheetData","accoutnsData","threads","getSheetData","getAllThreads","_x2","accountsArr","labelNames","exclude","queryArr","includes","indexOf","query","join","arr","push","threadsArr","asyncLoop","account","nextAccount","isDone","accountArr","options","userId","maxResults","q","page","nextPage","_res$data","nextPageToken","uId","pageToken","output","targetThreads","formated","formateIntegrationData","outputData","result","forEach","theItem","body","thread","maxLen","header","unshift","forReturn","col","nextCol","compare","actualThreads","labelsMap","compareInputData","emailArr","byPeople","people","targetLabelsIds","some","find","dbLab","update","dbThreads","compareResult","needToCreate","needToUpdate","needToRemove","_payload","_payload2","compareThreadsWithDb","removeOldDbThreads","createDbThreads","updateDbThreads","t1","dbIds","threadIds","dbItem","db","historyId","removeIdArr","nextThread","Integration","_this$props$match$par","onLaunch","class","inputData","meta","log","outBandSales","ReactDOM","es","exact","path","Home","PrivateRoute","SelectSheet","SelectFile","Footer_Footer","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.5f0ccf27.chunk.js","sourcesContent":["import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers/index\";\r\n\r\nconst initialstate = {};\r\nconst middleware = [thunk];\r\nlet middlewareContent;\r\nif (process.env.NODE_ENV === \"production\") {\r\n  middlewareContent = applyMiddleware(...middleware);\r\n} else {\r\n  middlewareContent = compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  );\r\n}\r\n\r\nconst store = createStore(rootReducer, initialstate, middlewareContent);\r\n\r\nexport default store;\r\n","// Auth\r\nexport const SET_USER = \"SET_USER\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\n\r\n// Accounts\r\nexport const GET_ACCOUNTS = \"GET_ACCOUNTS\";\r\nexport const ACCOUNTS_IN_PROCESS = \"ACCOUNTS_IN_PROCESS\";\r\nexport const ACCOUNTS_ERROR = \"ACCOUNTS_ERROR\";\r\n\r\n// Labels\r\nexport const GET_LABELS = \"GET_LABELS\";\r\nexport const LABELS_IN_PROCESS = \"LABELS_IN_PROCESS\";\r\nexport const LABELS_ERROR = \"LABELS_ERROR\";\r\n\r\n// Input\r\nexport const GET_FILES = \"GET_FILES\";\r\nexport const FILES_ERROR = \"FILES_ERROR\";\r\nexport const GET_SHEETS = \"GET_SHEETS\";\r\nexport const SHEET_ERROR = \"SHEET_ERROR\";\r\n\r\n// Messages\r\nexport const ADD_INFO = \"ADD_INFO\";\r\n","import { SET_USER, AUTH_ERROR } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  user: {},\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        isAuth: Object.keys(action.payload).length > 0,\r\n        user: action.payload\r\n      };\r\n\r\n    case AUTH_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  GET_ACCOUNTS,\r\n  ACCOUNTS_IN_PROCESS,\r\n  ACCOUNTS_ERROR\r\n} from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  inProcess: true,\r\n  accounts: [],\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    // fetch accounts\r\n    case GET_ACCOUNTS:\r\n      return {\r\n        ...state,\r\n        accounts: action.payload,\r\n        inProcess: false\r\n      };\r\n\r\n    // accounts busy\r\n    case ACCOUNTS_IN_PROCESS:\r\n      return {\r\n        ...state,\r\n        inProcess: true\r\n      };\r\n\r\n    // error\r\n    case ACCOUNTS_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  GET_LABELS,\r\n  LABELS_IN_PROCESS,\r\n  LABELS_ERROR\r\n} from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  inProcess: true,\r\n  labels: [],\r\n  error: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    // fetch labels\r\n    case GET_LABELS:\r\n      return {\r\n        ...state,\r\n        labels: action.payload,\r\n        inProcess: false\r\n      };\r\n\r\n    // labels busy\r\n    case LABELS_IN_PROCESS:\r\n      return {\r\n        ...state,\r\n        inProcess: true\r\n      };\r\n\r\n    //error\r\n    case LABELS_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  GET_FILES,\r\n  GET_SHEETS,\r\n  SHEET_ERROR,\r\n  FILES_ERROR\r\n} from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  files: [],\r\n  filesReady: false,\r\n  filesError: null,\r\n  sheets: [],\r\n  sheetsReady: false,\r\n  sheetError: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_FILES:\r\n      return {\r\n        ...state,\r\n        files: action.payload,\r\n        filesReady: true\r\n      };\r\n\r\n    case GET_SHEETS:\r\n      return {\r\n        ...state,\r\n        sheets: action.payload,\r\n        sheetsReady: true\r\n      };\r\n\r\n    case SHEET_ERROR:\r\n      return {\r\n        ...state,\r\n        sheetError: action.payload\r\n      };\r\n\r\n    case FILES_ERROR:\r\n      return {\r\n        ...state,\r\n        filesError: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ADD_INFO } from \"../actions/constants\";\r\n\r\nconst initialState = {\r\n  actions: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_INFO:\r\n      return {\r\n        ...state,\r\n        actions: [\r\n          ...state.actions,\r\n          {\r\n            text: action.payload,\r\n            type: action.payload === \"error\" ? \"error\" : \"info\"\r\n          }\r\n        ]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport auth from \"./authReducer\";\r\nimport accounts from \"./accountsReducer\";\r\nimport labels from \"./labelsReducer\";\r\nimport input from \"./inputReducer\";\r\nimport integration from \"./integrationReducer\";\r\n\r\nexport default combineReducers({ auth, labels, accounts, input, integration });\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PrivatRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuth === true ? <Component {...props} /> : <Redirect to=\"/\" />\r\n    }\r\n  />\r\n);\r\n\r\nPrivatRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivatRoute);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport logo from \"../../../img/logo.png\";\r\nimport \"./style.scss\";\r\n\r\nexport class MainMenu extends Component {\r\n  static propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { isAuth } = this.props.auth;\r\n    return (\r\n      <ul className=\"navbar-nav\">\r\n        <li className=\"nav-item \">\r\n          <Link className=\"nav-link\" to=\"/\">\r\n            <img\r\n              style={{ width: \"30px\" }}\r\n              src={logo}\r\n              alt=\"Gmail-Reply-Integration\"\r\n            />\r\n          </Link>\r\n        </li>\r\n\r\n        {isAuth && (\r\n          <>\r\n            <li className=\"nav-item \">\r\n              <NavLink\r\n                className=\"nav-link\"\r\n                to=\"/settings\"\r\n                activeClassName=\"nav-link_active\"\r\n              >\r\n                Settings\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink\r\n                className=\"nav-link\"\r\n                to=\"/integration/file\"\r\n                activeClassName=\"nav-link_active\"\r\n              >\r\n                Integration\r\n              </NavLink>\r\n            </li>\r\n          </>\r\n        )}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(MainMenu);\r\n","const isProd = process.env.NODE_ENV === \"production\";\r\nconst env = process.env;\r\n\r\nexport const client_id = isProd\r\n  ? env.REACT_APP_CLIENT_ID\r\n  : \"969544593152-qfd6u3du7aepea079u1rc39jie5vb1oi.apps.googleusercontent.com\";\r\n\r\nexport const client_secret = isProd\r\n  ? env.REACT_APP_CLIENT_SECRET\r\n  : \"QcGSV0GuHLDTtszpypwjz2h-\";\r\n\r\nexport const redirect_uri = isProd\r\n  ? env.REACT_APP_REDIRECT_URL\r\n  : \"http://localhost:3000\";\r\n\r\nexport const scope = isProd\r\n  ? env.REACT_APP_SCOPE\r\n  : \"email profile openid https://www.googleapis.com/auth/drive https://mail.google.com/\";\r\n// : \"email profile openid https://mail.google.com/ https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive\";\r\n\r\n// USER AUTH\r\nexport const client_id_user = isProd\r\n  ? env.REACT_APP_CLIENT_ID_USER\r\n  : \"969544593152-tmvbkq2uhpalst6o75gbgjkcfj7hs1u2.apps.googleusercontent.com\";\r\n\r\nexport const client_secret_user = isProd\r\n  ? env.REACT_APP_CLIENT_SECRET_USER\r\n  : \"wQEzqtRQUIiMc0E9wpjEgMFD\";\r\n\r\nexport const redirect_uri_user = isProd\r\n  ? env.REACT_APP_REDIRECT_URL_USER\r\n  : \"http://localhost:3000\";\r\n\r\nexport const scope_user = isProd\r\n  ? env.REACT_APP_SCOPE_USER\r\n  : \"email profile openid https://www.googleapis.com/auth/drive https://mail.google.com/\";\r\n","import axios from \"axios\";\r\n\r\n// retrieve token by code\r\nexport const getTokenFromCode = authData => {\r\n  return new Promise((resolve, reject) => {\r\n    const headers = { \"Content-Type\": \"application/x-www-form-urlencoded\" };\r\n    const params = { ...authData, grant_type: \"authorization_code\" };\r\n\r\n    axios\r\n      .post(\r\n        \"https://www.googleapis.com/oauth2/v4/token\",\r\n        {},\r\n        { headers, params }\r\n      )\r\n      .then(res => resolve(res.data))\r\n      .catch(err => {\r\n        console.error(err);\r\n        reject(\"Error retrieving tokin\");\r\n      });\r\n  });\r\n};\r\n\r\n// Set up Auth axios header\r\nexport const setAuthToken = token => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { onLogout } from \"../../../../store/actions/auth\";\r\nimport \"./style.scss\";\r\n\r\nexport class index extends Component {\r\n  static propTypes = {\r\n    onLogout: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    return (\r\n      <div className=\"userData\">\r\n        <img src={user.picture} className=\"userData__avatar\" alt={user.name} />\r\n        <i\r\n          className=\"fas fa-sign-out-alt userData__logout\"\r\n          onClick={this.props.onLogout}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({ auth: state.auth });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { onLogout }\r\n)(index);\r\n","import axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {\r\n  client_id_user,\r\n  client_secret_user,\r\n  redirect_uri_user\r\n} from \"../../config\";\r\nimport { SET_USER, AUTH_ERROR } from \"./constants\";\r\nimport { getTokenFromCode, setAuthToken } from \"./utils/auth\";\r\n\r\n// login\r\nexport const onLogin = response => async dispatch => {\r\n  try {\r\n    dispatch({ type: AUTH_ERROR, payload: null });\r\n    const { code } = response;\r\n    const authData = {\r\n      code,\r\n      client_id: client_id_user,\r\n      client_secret: client_secret_user,\r\n      redirect_uri: redirect_uri_user\r\n    };\r\n    const token = await getTokenFromCode(authData);\r\n\r\n    axios.post(\"/auth/login\", { token }).then(res => {\r\n      const token = res.data;\r\n      localStorage.setItem(\"outBandSales\", token);\r\n\r\n      setAuthToken(token);\r\n\r\n      // Decode token to get User data\r\n      const decoded = jwt_decode(token);\r\n\r\n      dispatch({ type: SET_USER, payload: decoded });\r\n    });\r\n  } catch (err) {\r\n    if (err && err.response && err.response.data) {\r\n      return dispatch({ type: AUTH_ERROR, payload: err.response.data });\r\n    }\r\n    console.error(err);\r\n  }\r\n};\r\n\r\n// Logout\r\nexport const onLogout = () => dispatch => {\r\n  try {\r\n    if (!window.confirm(\"Do you want to Logout?\")) return;\r\n    dispatch({ type: AUTH_ERROR, payload: null });\r\n    localStorage.removeItem(\"outBandSales\");\r\n    setAuthToken(false);\r\n    dispatch({ type: SET_USER, payload: {} });\r\n  } catch (err) {\r\n    if (err && err.response && err.response.data) {\r\n      return dispatch({ type: AUTH_ERROR, payload: err.response.data });\r\n    }\r\n    console.error(err);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { GoogleAuthorize } from \"react-google-authorize\";\r\nimport { client_id_user, scope_user } from \"../../../../config\";\r\nimport { onLogin } from \"../../../../store/actions/auth\";\r\nimport \"./style.scss\";\r\n\r\nexport class index extends Component {\r\n  static propTypes = {\r\n    onLogin: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <GoogleAuthorize\r\n          clientId={client_id_user}\r\n          className=\"login\"\r\n          accessType=\"offline\"\r\n          responseType=\"code\"\r\n          scope={scope_user}\r\n          onSuccess={this.props.onLogin}\r\n          onFailure={this.props.onLogin}\r\n        >\r\n          <i className=\"fab fa-google login\" />\r\n        </GoogleAuthorize>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { onLogin }\r\n)(index);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport UserData from \"./UserData\";\r\nimport Login from \"./Login\";\r\nimport \"./style.scss\";\r\n\r\nexport class AuthMenu extends Component {\r\n  static propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { isAuth, error } = this.props.auth;\r\n    return (\r\n      <div className=\"auth\">\r\n        {isAuth ? <UserData /> : <Login />}\r\n        {error && <p className=\"auth__error error\">{error}</p>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {}\r\n)(AuthMenu);\r\n","import React from \"react\";\r\nimport MainMenu from \"./MainMenu\";\r\nimport AuthMenu from \"./AuthMenu\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div className=\"container\">\r\n          {/* main menu */}\r\n          <Switch>\r\n            <MainMenu />\r\n          </Switch>\r\n\r\n          {/* auth menu */}\r\n          <AuthMenu />\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport default class Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <div className=\"container\">\r\n            <p>Copyright &copy; {new Date().getFullYear()}</p>\r\n            <div className=\"documentation\">\r\n              <i className=\"fas fa-book footer__docIcon\" />\r\n              <a\r\n                href=\"https://gmail-reply-connector.gitbook.io/documentation/\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\" footer__docLink\"\r\n                target=\"_blank\"\r\n              >\r\n                Documentation\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport bg from \"../../img/homePage.png\";\r\nimport \"./style.scss\";\r\n\r\nexport default class HomePage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"home\">\r\n        <img src={bg} alt=\"\" className=\"home__bg\" />\r\n        <div className=\"home__inner\">\r\n          <h1 className=\"display-4 text-white home__title\">Gmail-Reply</h1>\r\n          <p className=\"text-white text-uppercase home__subtitle\">\r\n            Integration\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport spinner from \"../../../img/spinner.gif\";\r\nimport \"./style.scss\";\r\n\r\nexport default function() {\r\n  return (\r\n    <div className=\"overlay\">\r\n      <div className=\"overlay__inner\">\r\n        <img src={spinner} alt=\"Loading...\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { LABELS_IN_PROCESS, GET_LABELS, LABELS_ERROR } from \"./constants\";\r\n\r\n// get all labels\r\nexport const getLabels = () => dispatch => {\r\n  dispatch({ type: LABELS_ERROR, payload: null });\r\n  axios\r\n    .get(\"/labels\")\r\n    .then(res => dispatch({ type: GET_LABELS, payload: res.data }))\r\n    .catch(err => {\r\n      if (err && err.response && err.response.data) {\r\n        return dispatch({ type: LABELS_ERROR, payload: err.response.data });\r\n      }\r\n      console.error(err);\r\n    });\r\n};\r\n\r\n// toggle labels status\r\nexport const toggleCheck = id => dispatch => {\r\n  dispatch({ type: LABELS_IN_PROCESS });\r\n  dispatch({ type: LABELS_ERROR, payload: null });\r\n  axios\r\n    .put(`/labels/${id}`)\r\n    .then(() => dispatch(getLabels()))\r\n    .catch(err => {\r\n      if (err && err.response && err.response.data) {\r\n        return dispatch({ type: LABELS_ERROR, payload: err.response.data });\r\n      }\r\n      console.error(err);\r\n    });\r\n};\r\n","import axios from \"axios\";\r\nimport { ACCOUNTS_IN_PROCESS, GET_ACCOUNTS, ACCOUNTS_ERROR } from \"./constants\";\r\nimport { getTokenFromCode } from \"./utils/auth\";\r\nimport { client_id, client_secret, redirect_uri } from \"../../config\";\r\nimport { getLabels } from \"./labels\";\r\n\r\n// get all accounts\r\nexport const getAccounts = () => dispatch => {\r\n  dispatch({ type: ACCOUNTS_ERROR, payload: null });\r\n  axios\r\n    .get(\"/accounts\")\r\n    .then(res => dispatch({ type: GET_ACCOUNTS, payload: res.data }))\r\n    .catch(err => {\r\n      if (err && err.response && err.response.data) {\r\n        return dispatch({ type: ACCOUNTS_ERROR, payload: err.response.data });\r\n      }\r\n      console.error(err);\r\n    });\r\n};\r\n\r\n// Create new Account\r\nexport const createAccount = response => async dispatch => {\r\n  dispatch({ type: ACCOUNTS_IN_PROCESS, payload: true });\r\n  dispatch({ type: ACCOUNTS_ERROR, payload: null });\r\n  try {\r\n    const { code } = response;\r\n    const authData = { code, client_id, client_secret, redirect_uri };\r\n    const token = await getTokenFromCode(authData);\r\n    axios.post(\"/accounts\", { token }).then(() => {\r\n      dispatch(getAccounts());\r\n      dispatch(getLabels());\r\n    });\r\n  } catch (err) {\r\n    if (err && err.response && err.response.data) {\r\n      return dispatch({ type: ACCOUNTS_ERROR, payload: err.response.data });\r\n    }\r\n    console.error(err);\r\n  }\r\n};\r\n\r\n// remove account by id\r\nexport const removeAccount = id => dispatch => {\r\n  dispatch({ type: ACCOUNTS_IN_PROCESS, payload: true });\r\n  dispatch({ type: ACCOUNTS_ERROR, payload: null });\r\n  axios\r\n    .delete(`/accounts/${id}`)\r\n    .then(() => {\r\n      dispatch(getAccounts());\r\n      dispatch(getLabels());\r\n    })\r\n    .catch(err => {\r\n      if (err && err.response && err.response.data) {\r\n        return dispatch({ type: ACCOUNTS_ERROR, payload: err.response.data });\r\n      }\r\n      console.error(err);\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { GoogleAuthorize } from \"react-google-authorize\";\r\nimport { client_id, scope } from \"../../../config\";\r\nimport \"./style.scss\";\r\nimport {\r\n  createAccount,\r\n  removeAccount,\r\n  getAccounts\r\n} from \"../../../store/actions/accounts\";\r\n\r\nexport class AccountsControl extends Component {\r\n  componentDidMount() {\r\n    this.props.getAccounts();\r\n  }\r\n\r\n  static propTypes = {\r\n    createAccount: PropTypes.func.isRequired,\r\n    accounts: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { accounts, inProcess, error } = this.props.accounts;\r\n\r\n    return (\r\n      <section className=\"container section accounts\">\r\n        <h3 className=\"bg-secondary text-center rounded text-white page__subtitle\">\r\n          Accounts Control\r\n        </h3>\r\n        {!inProcess && (\r\n          <>\r\n            <ul className=\"accounts__list\">\r\n              {/* header */}\r\n              <li key=\"header\" className=\"accounts__item\">\r\n                <p className=\"accounts__header\">#</p>\r\n                <p className=\"accounts__header\">Photo</p>\r\n                <p className=\"accounts__header\">Name</p>\r\n                <p className=\"accounts__header\">Email</p>\r\n                <p className=\"accounts__header\">Delete</p>\r\n              </li>\r\n\r\n              {/* body */}\r\n              {accounts.map((item, i) => (\r\n                <li key={item._id} className=\"accounts__item\">\r\n                  <p className=\"accounts__row\">{i + 1}</p>\r\n                  <p className=\"accounts__row\">\r\n                    <img\r\n                      className=\"accounts__photo\"\r\n                      alt={item.name}\r\n                      src={item.picture}\r\n                    />\r\n                  </p>\r\n                  <p className=\"accounts__row accounts__name\"> {item.name}</p>\r\n                  <p className=\"accounts__row accounts__email\"> {item.email}</p>\r\n                  <p className=\"accounts__row\">\r\n                    <i\r\n                      className=\"fas fa-user-times accounts__remove\"\r\n                      onClick={this.props.removeAccount.bind(this, item._id)}\r\n                    />\r\n                  </p>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {/* Add account */}\r\n            <div className=\"accounts__add\">\r\n              <GoogleAuthorize\r\n                clientId={client_id}\r\n                className=\"btn btn-success\"\r\n                accessType=\"offline\"\r\n                responseType=\"code\"\r\n                scope={scope}\r\n                onSuccess={this.props.createAccount}\r\n                onFailure={this.props.createAccount}\r\n              >\r\n                <i className=\"fas fa-user-plus\" />\r\n              </GoogleAuthorize>\r\n            </div>\r\n          </>\r\n        )}\r\n        {error && <p className=\"accounts__error error\">{error}</p>}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({ accounts: state.accounts });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createAccount, getAccounts, removeAccount }\r\n)(AccountsControl);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getLabels, toggleCheck } from \"../../../store/actions/labels\";\r\nimport \"./style.scss\";\r\n\r\nexport class LabelsContorl extends Component {\r\n  componentDidMount() {\r\n    this.props.getLabels();\r\n  }\r\n\r\n  static propTypes = {\r\n    labels: PropTypes.object.isRequired,\r\n    getLabels: PropTypes.func.isRequired,\r\n    toggleCheck: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { labels, inProcess, error } = this.props.labels;\r\n    return (\r\n      <section className=\"container section labels\">\r\n        <h3 className=\"bg-secondary text-center rounded text-white page__subtitle\">\r\n          Labels Control\r\n        </h3>\r\n        {!inProcess && (\r\n          <ul className=\"labels__list\">\r\n            <li className=\"labels__item labels__headerItem\">\r\n              <b className=\"labels__number labels__header\">#</b>\r\n              <b className=\"labels__name labels__header\">Name</b>\r\n            </li>\r\n            {labels.map((label, i) => (\r\n              <li\r\n                key={label._id}\r\n                onClick={this.props.toggleCheck.bind(this, label._id)}\r\n                className={\r\n                  (label.checked && \"labels__item_active\") + \" labels__item\"\r\n                }\r\n              >\r\n                <p className=\"labels__number\">{i + 1}</p>\r\n                <p className=\"labels__name\">{label.name}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n        {error && <p className=\"error labels__error\">{error}</p>}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  labels: state.labels\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getLabels, toggleCheck }\r\n)(LabelsContorl);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Overlay from \"../General/Overlay\";\r\nimport AccountsControl from \"./AccountsControl\";\r\nimport LabelsControl from \"./LabelsControl\";\r\n\r\nclass Settings extends Component {\r\n  static propTypes = {\r\n    labels: PropTypes.object.isRequired,\r\n    accounts: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { inProcess: lablInProcess } = this.props.labels;\r\n    const { inProcess: accInProcess } = this.props.accounts;\r\n    const isReady = !accInProcess && !lablInProcess;\r\n    return (\r\n      <div className=\"page\">\r\n        <h1 className=\"display-4 text-center page__title\">Settings</h1>\r\n        <AccountsControl />\r\n        <LabelsControl />\r\n        {!isReady && <Overlay />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatesToProps = state => ({\r\n  labels: state.labels,\r\n  accounts: state.accounts\r\n});\r\n\r\nexport default connect(mapStatesToProps)(Settings);\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Overlay from \"../General/Overlay\";\r\nimport \"./style.scss\";\r\nimport { getFiles } from \"../../store/actions/input\";\r\n\r\nexport class FilesList extends Component {\r\n  state = { search: \"\", onSearch: false };\r\n\r\n  componentDidMount() {\r\n    const { filesReady } = this.props.input;\r\n    if (!filesReady) this.props.getFiles();\r\n  }\r\n\r\n  static propTypes = {\r\n    getFiles: PropTypes.func.isRequired,\r\n    input: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { files, filesReady, filesError } = this.props.input;\r\n    const { search, onSearch } = this.state;\r\n\r\n    let filtred;\r\n    if (search.trim() === \"\") {\r\n      filtred = files;\r\n    } else {\r\n      const reg = new RegExp(search, \"gi\");\r\n      filtred = files.filter(item => item.name.match(reg));\r\n    }\r\n\r\n    let textMessage = \"\";\r\n\r\n    if (filesReady) {\r\n      if (filtred.length > 0) {\r\n        textMessage = \"\";\r\n      } else if (files.length === 0) {\r\n        textMessage = \"Files not found\";\r\n      } else {\r\n        textMessage = (\r\n          <p>\r\n            <b>\"{search}\"</b> not found\r\n          </p>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"page selectFile\">\r\n        <h1 className=\"display-4 text-center page__title\">Select File</h1>\r\n\r\n        <section className=\"section container selectFile\">\r\n          <h3 className=\"bg-secondary text-center rounded text-white page__subtitle\">\r\n            {filesReady ? (\r\n              <span>Found {filtred.length} files</span>\r\n            ) : (\r\n              <span>Files</span>\r\n            )}\r\n          </h3>\r\n\r\n          {filesReady && (\r\n            <>\r\n              {/* input */}\r\n              <label\r\n                className={\r\n                  \"fileList__search\" +\r\n                  (onSearch ? \" fileList__search_active\" : \"\")\r\n                }\r\n              >\r\n                <i className=\"fas fa-search\" />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"search\"\r\n                  autoComplete=\"off\"\r\n                  value={this.state.search}\r\n                  className=\"fileList__searchForm form-control\"\r\n                  placeholder=\"Enter the name\"\r\n                  onFocus={() => this.setState({ onSearch: true })}\r\n                  onBlur={() => this.setState({ onSearch: false })}\r\n                  onChange={e =>\r\n                    this.setState({ [e.target.name]: e.target.value })\r\n                  }\r\n                />\r\n              </label>\r\n\r\n              {/* files list */}\r\n              <ul className=\"fileList\">\r\n                {filtred\r\n                  .sort((a, b) => (a.name > b.name ? 1 : -1))\r\n                  .map(item => (\r\n                    <li key={item.id} className=\"fileList__item\">\r\n                      <Link\r\n                        className=\"fileList__text\"\r\n                        to={`/integration/file/${item.id}`}\r\n                      >\r\n                        <i className=\"fas fa-file-excel\" />\r\n                        {item.name}\r\n                      </Link>\r\n                      <a\r\n                        href={`https://docs.google.com/spreadsheets/d/${\r\n                          item.id\r\n                        }`}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"fileList__id\"\r\n                      >\r\n                        {item.id}\r\n                      </a>\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </>\r\n          )}\r\n          <p>{textMessage}</p>\r\n          {filesError && (\r\n            <p className=\"error selectFile__error\">{filesError}</p>\r\n          )}\r\n        </section>\r\n        {!filesReady && <Overlay />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  input: state.input,\r\n  accounts: state.accounts\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getFiles }\r\n)(FilesList);\r\n","import axios from \"axios\";\r\nimport { GET_SHEETS, GET_FILES, SHEET_ERROR, FILES_ERROR } from \"./constants\";\r\n\r\n// get all user files\r\nexport const getFiles = () => dispatch => {\r\n  dispatch({ type: FILES_ERROR, payload: null });\r\n  axios\r\n    .get(\"/input/files\")\r\n    .then(res => dispatch({ type: GET_FILES, payload: res.data }))\r\n    .catch(err => {\r\n      if (err && err.response && err.response.data) {\r\n        return dispatch({ type: FILES_ERROR, payload: err.response.data });\r\n      }\r\n      console.error(err);\r\n    });\r\n};\r\n\r\n// get selected file sheets\r\nexport const getSheets = id => async dispatch => {\r\n  try {\r\n    dispatch({ type: SHEET_ERROR, payload: null });\r\n    var { data: sheets } = await axios.get(`/input/file/${id}`);\r\n    dispatch({ type: GET_SHEETS, payload: sheets });\r\n  } catch (err) {\r\n    if (err && err.response && err.response.data) {\r\n      return dispatch({ type: SHEET_ERROR, payload: err.response.data });\r\n    }\r\n    console.error(err);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { getSheets } from \"../../store/actions/input\";\r\nimport Overlay from \"../General/Overlay\";\r\nimport \"./style.scss\";\r\n\r\nexport class SheetsList extends Component {\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    this.props.getSheets(id);\r\n  }\r\n\r\n  static propTypes = {\r\n    input: PropTypes.object.isRequired,\r\n    getSheets: PropTypes.func.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { sheets, sheetsReady, sheetError } = this.props.input;\r\n    const { id } = this.props.match.params;\r\n\r\n    return (\r\n      <div className=\"page\">\r\n        <h1 className=\"display-4 text-center page__title\">Select Sheet</h1>\r\n        <section className=\"section container selectSheet\">\r\n          <h3 className=\"bg-secondary text-center rounded text-white page__subtitle\">\r\n            Sheets\r\n          </h3>\r\n\r\n          {sheetsReady ? (\r\n            <div className=\"sheetList\">\r\n              <a\r\n                className=\"sheetList__title\"\r\n                href={`https://docs.google.com/spreadsheets/d/${id}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                <i className=\"fas fa-file-excel\" />\r\n                Open the File\r\n              </a>\r\n\r\n              <ul className=\"sheetList__inner\">\r\n                {sheets.map(item => (\r\n                  <Link\r\n                    key={item.sheetId}\r\n                    className=\"sheetList__item\"\r\n                    to={`/integration/file/launch/${id}/${item.title}`}\r\n                  >\r\n                    <div className=\"sheetList__wrap\">\r\n                      <i className=\"far fa-file sheetList__icon\" />\r\n                      <p style={{ wordWrap: \"break-word\" }}>{item.title}</p>\r\n                    </div>\r\n                  </Link>\r\n                ))}\r\n              </ul>\r\n\r\n              <Link className=\"btn btn-warning\" to=\"/integration/file\">\r\n                Select other file\r\n              </Link>\r\n            </div>\r\n          ) : (\r\n            <Overlay />\r\n          )}\r\n          {sheetError && (\r\n            <p className=\"error selectSheet__error\">{sheetError}</p>\r\n          )}\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  input: state.input\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getSheets }\r\n)(withRouter(SheetsList));\r\n","import axios from \"axios\";\r\nimport { ADD_INFO } from \"../constants\";\r\n\r\n// get all threads from db\r\nexport const getDbThreads = dispatch => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/integration/get-db-threads\")\r\n      .then(res => {\r\n        resolve(res.data);\r\n        const payload = `Get ${res.data.length} threads from db`;\r\n        dispatch({ type: ADD_INFO, payload });\r\n      })\r\n      .catch(err => reject(err));\r\n  });\r\n};\r\n","import axios from \"axios\";\r\nimport asyncLoop from \"node-async-loop\";\r\nimport { ADD_INFO } from \"../constants\";\r\n\r\nexport const getInputData = (fileId, sheetName, dispatch) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      // get input data\r\n      const sheetData = await getSheetData(fileId, sheetName);\r\n      dispatch({ type: ADD_INFO, payload: \"Got sheet data\" });\r\n\r\n      // get all labels\r\n      const labels = await getLabels();\r\n\r\n      // get accounts\r\n      const accoutnsData = await getAccountsData();\r\n\r\n      // get all threads\r\n      const threads = await getAllThreads(accoutnsData, labels, dispatch);\r\n      const payload = `Got ${threads.length} threads from gmail`;\r\n      dispatch({ type: ADD_INFO, payload });\r\n\r\n      resolve({ sheetData, threads });\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\n// get sheet data\r\nfunction getSheetData(fileId, sheetName) {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(`/input/${fileId}/${sheetName}`)\r\n      .then(res => resolve(res.data))\r\n      .catch(err => reject(err));\r\n  });\r\n}\r\n\r\n// get Labels\r\nfunction getLabels() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/labels\")\r\n      .then(res => resolve(res.data))\r\n      .catch(err => reject(err));\r\n  });\r\n}\r\n\r\n// get accounts\r\nfunction getAccountsData() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/accounts\")\r\n      .then(res => resolve(res.data))\r\n      .catch(err => reject(err));\r\n  });\r\n}\r\n\r\n// get all the threads\r\nfunction getAllThreads(accountsArr, labels, dispatch) {\r\n  // construct query for getting target threads\r\n  const labelNames = labels.map(label => label.name);\r\n  const exclude = [\"!SENT\", \"!pierre.martinow@idealsmail.com\"];\r\n  const queryArr = labelNames\r\n    .filter(item => !exclude.includes(item))\r\n    .map(item => {\r\n      if (item.indexOf(\" \") === -1) {\r\n        return `label:${item}`;\r\n      } else {\r\n        return `label:\"${item}\"`;\r\n      }\r\n    });\r\n  const query = `{${queryArr.join(\" \")}}`;\r\n\r\n  // loop arr\r\n  const arr = [];\r\n  for (var i = 0; i < 50; i++) {\r\n    arr.push(i);\r\n  }\r\n\r\n  // result arr\r\n  const threadsArr = [];\r\n\r\n  return new Promise((resolve, reject) => {\r\n    // loop each account\r\n    asyncLoop(\r\n      accountsArr,\r\n      (account, nextAccount) => {\r\n        let isDone = false;\r\n\r\n        const accountArr = []; // account result arr\r\n        const options = { userId: \"me\", maxResults: 500, q: query };\r\n        const id = account._id;\r\n\r\n        // loop each page\r\n        asyncLoop(\r\n          arr,\r\n          (page, nextPage) => {\r\n            if (isDone) return nextPage();\r\n\r\n            axios\r\n              .post(`/integration/get-all-account-threads`, {\r\n                options,\r\n                id\r\n              })\r\n              .then(res => {\r\n                const { threads, nextPageToken } = res.data;\r\n\r\n                if (threads) {\r\n                  // save account id to get accoutn credentials for create or update\r\n                  accountArr.push(...threads.map(i => ({ ...i, uId: id })));\r\n                }\r\n                if (nextPageToken) {\r\n                  options.pageToken = nextPageToken;\r\n                  nextPage();\r\n                } else {\r\n                  isDone = true;\r\n                  nextPage();\r\n                }\r\n              })\r\n              .catch(err => reject(err));\r\n          },\r\n          () => {\r\n            // save account results in total results\r\n            dispatch({\r\n              type: ADD_INFO,\r\n              payload: `Got ${accountArr.length} threads from ${account.email}`\r\n            });\r\n            threadsArr.push(...accountArr);\r\n            nextAccount();\r\n          }\r\n        );\r\n      },\r\n      () => resolve(threadsArr)\r\n    );\r\n  });\r\n}\r\n","import axios from \"axios\";\r\nimport asyncLoop from \"node-async-loop\";\r\n\r\nexport const output = (targetThreads, fileId, sheetName) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const formated = formateIntegrationData(targetThreads);\r\n      await outputData(formated, fileId, sheetName);\r\n      resolve();\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\n// format data for output\r\nfunction formateIntegrationData(result) {\r\n  const formated = [];\r\n\r\n  result.forEach(item => {\r\n    const theItem = [];\r\n\r\n    // body\r\n    const body = [];\r\n    item.forEach(thread => body.push(thread.body));\r\n\r\n    // labels\r\n    const labels = [];\r\n    item.forEach(thread =>\r\n      thread.labels.forEach(label => {\r\n        if (!labels.includes(label)) labels.push(label);\r\n      })\r\n    );\r\n\r\n    theItem[0] = body.join(\"\\n===============\\n\");\r\n    theItem.push(...labels.map(item => item));\r\n    formated.push(theItem);\r\n  });\r\n\r\n  // header\r\n  let maxLen = 1;\r\n  formated.forEach(item => {\r\n    if (item.length > maxLen) maxLen = item.length;\r\n  });\r\n  const header = [\"Body\"];\r\n  for (var i = 1; i < maxLen; i++) {\r\n    header.push(\"Label-\" + i);\r\n  }\r\n  formated.unshift(header);\r\n\r\n  const resultArr = formated.map(item => {\r\n    const forReturn = [];\r\n    const theItem = item.filter(arr => arr.length > 0);\r\n    for (var i = 0; i < maxLen; i++) {\r\n      if (theItem[i]) {\r\n        forReturn.push(theItem[i]);\r\n      } else {\r\n        forReturn.push(\"\");\r\n      }\r\n    }\r\n    return forReturn;\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n\r\n// output data\r\n// output each column separatly, for reduce server load time\r\nfunction outputData(formated, fileId, sheetName) {\r\n  const arr = [];\r\n  for (var i = 0; i < formated[0].length; i++) {\r\n    arr.push(i);\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    asyncLoop(\r\n      arr,\r\n      (col, nextCol) => {\r\n        const data = formated.map(item => item[col]);\r\n        axios\r\n          .post(\"/output/sheet\", { fileId, sheetName, data })\r\n          .then(() => nextCol())\r\n          .catch(err => reject(err));\r\n      },\r\n      () => resolve()\r\n    );\r\n  });\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const compare = (actualThreads, sheetData) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      // get all labels\r\n      const labelsMap = await getAccountsLabels();\r\n\r\n      // compare with input data\r\n      const targetThreads = compareInputData(\r\n        actualThreads,\r\n        sheetData,\r\n        labelsMap\r\n      );\r\n      resolve(targetThreads);\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\n// filter target threads\r\nfunction compareInputData(actualThreads, emailArr, labels) {\r\n  // filter by people\r\n  const byPeople = emailArr.map(item => {\r\n    return actualThreads.filter(thread => thread.people.includes(item));\r\n  });\r\n\r\n  // construct labels ids\r\n  const targetLabelsIds = labels.map(label => label.id);\r\n\r\n  // filater by labels\r\n  const byLabels = byPeople.map(threadsArr => {\r\n    if (threadsArr.length === 0) return [];\r\n    return threadsArr\r\n      .filter(thread =>\r\n        thread.labels.some(label => targetLabelsIds.includes(label))\r\n      )\r\n      .map(thread => ({\r\n        ...thread,\r\n        labels: thread.labels\r\n          .filter(label => targetLabelsIds.includes(label))\r\n          .map(label => labels.find(dbLab => dbLab.id === label).name)\r\n      }));\r\n  });\r\n  return byLabels;\r\n}\r\n\r\n// get labels map\r\nfunction getAccountsLabels() {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/labels/target-labels-map\")\r\n      .then(res => resolve(res.data))\r\n      .catch(err => reject(err));\r\n  });\r\n}\r\n","import axios from \"axios\";\r\nimport asyncLoop from \"node-async-loop\";\r\nimport { getDbThreads } from \"./integration\";\r\nimport { ADD_INFO } from \"../constants\";\r\n\r\nexport const update = (threads, dbThreads, dispatch) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const compareResult = compareThreadsWithDb(threads, dbThreads);\r\n      const { needToCreate, needToUpdate, needToRemove } = compareResult;\r\n\r\n      // remove old\r\n      if (needToRemove.length > 0) {\r\n        const payload = `Need to remove ${needToRemove.length} threads`;\r\n        dispatch({ type: ADD_INFO, payload });\r\n        await removeOldDbThreads(needToRemove);\r\n      }\r\n\r\n      // create new\r\n      if (needToCreate.length > 0) {\r\n        const payload = `Need to create ${needToCreate.length} threads`;\r\n        dispatch({ type: ADD_INFO, payload });\r\n        await createDbThreads(needToCreate);\r\n      }\r\n\r\n      // update db data\r\n      if (needToUpdate.length > 0) {\r\n        const payload = `Need to update ${needToUpdate.length} threads`;\r\n        dispatch({ type: ADD_INFO, payload });\r\n        await updateDbThreads(needToUpdate);\r\n      }\r\n\r\n      // get gb threads\r\n      const idUpdated = needToCreate.length === 0 && needToUpdate.length === 0;\r\n      const actualThreads = idUpdated ? await getDbThreads() : dbThreads;\r\n      dispatch({ type: ADD_INFO, payload: \"All data is updated\" });\r\n\r\n      resolve(actualThreads);\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};\r\n\r\n// retrieve updated threads only\r\nfunction compareThreadsWithDb(threads, dbThreads) {\r\n  const dbIds = dbThreads.map(item => item.id);\r\n  const threadIds = threads.map(item => item.id);\r\n\r\n  const needToCreate = threads.filter(item => !dbIds.includes(item.id));\r\n  const needToRemove = dbThreads.filter(item => !threadIds.includes(item.id));\r\n  const needToUpdate = threads.filter(item => {\r\n    const dbItem = dbThreads.find(db => db.id === item.id);\r\n    if (!dbItem) return false;\r\n    return dbItem.historyId !== item.historyId;\r\n  });\r\n\r\n  return { needToCreate, needToUpdate, needToRemove };\r\n}\r\n\r\n// remove old db threads\r\nfunction removeOldDbThreads(needToRemove) {\r\n  return new Promise((resolve, reject) => {\r\n    const removeIdArr = needToRemove.map(item => item.id);\r\n    axios\r\n      .post(`/integration/delete-thread`, { removeIdArr })\r\n      .then(() => resolve())\r\n      .catch(err => reject(err));\r\n  });\r\n}\r\n\r\n// create new threads\r\nfunction createDbThreads(needToCreate) {\r\n  return new Promise((resolve, reject) => {\r\n    asyncLoop(\r\n      needToCreate,\r\n      (thread, nextThread) => {\r\n        axios\r\n          .post(\"/integration/create-thread\", { thread })\r\n          .then(() => nextThread())\r\n          .catch(err => reject(err));\r\n      },\r\n      () => resolve()\r\n    );\r\n  });\r\n}\r\n\r\n// update existing threads\r\nfunction updateDbThreads(needToUpdate) {\r\n  return new Promise((resolve, reject) => {\r\n    asyncLoop(\r\n      needToUpdate,\r\n      (thread, nextThread) => {\r\n        axios\r\n          .post(\"/integration/update-thread\", { thread })\r\n          .then(() => nextThread())\r\n          .catch(err => reject(err));\r\n      },\r\n      () => resolve()\r\n    );\r\n  });\r\n}\r\n","import { ADD_INFO } from \"./constants\";\r\nimport { getDbThreads } from \"./utils/integration\";\r\nimport { getInputData } from \"./utils/getInputData\";\r\nimport { output } from \"./utils/output\";\r\nimport { compare } from \"./utils/compare\";\r\nimport { update } from \"./utils/update\";\r\n\r\nexport const onLaunch = (fileId, sheetName) => async dispatch => {\r\n  try {\r\n    dispatch({ type: ADD_INFO, payload: \"Start integration\" });\r\n\r\n    // GET INPUT\r\n    const inputData = await getInputData(fileId, sheetName, dispatch);\r\n    const { sheetData, threads } = inputData;\r\n\r\n    // get gb threads\r\n    const dbThreads = await getDbThreads(dispatch);\r\n\r\n    // UPDATE DB DATA\r\n    const actualThreads = await update(threads, dbThreads, dispatch);\r\n\r\n    // COMPARE\r\n    dispatch({ type: ADD_INFO, payload: \"Retrieve target threads\" });\r\n    const targetThreads = await compare(actualThreads, sheetData);\r\n\r\n    // OUTPUT\r\n    dispatch({ type: ADD_INFO, payload: \"Output data\" });\r\n    await output(targetThreads, fileId, sheetName);\r\n    dispatch({ type: ADD_INFO, payload: \"Success\" });\r\n  } catch (err) {\r\n    if (err && err.response && err.response.data) {\r\n      return dispatch({\r\n        type: ADD_INFO,\r\n        payload: err.response.data,\r\n        meta: \"error\"\r\n      });\r\n    }\r\n    console.log(err);\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { onLaunch } from \"../../store/actions/integration\";\r\nimport \"./style.scss\";\r\n\r\nclass Integration extends Component {\r\n  componentDidMount() {\r\n    const { sheetName, fileId } = this.props.match.params;\r\n    this.props.onLaunch(fileId, sheetName);\r\n  }\r\n\r\n  static propTypes = {\r\n    onLaunch: PropTypes.func.isRequired,\r\n    integration: PropTypes.object.isRequired\r\n  };\r\n\r\n  render() {\r\n    const { actions } = this.props.integration;\r\n    return (\r\n      <div className=\"page integration\">\r\n        <h1 className=\"display-4 text-center page__title\">Integration</h1>\r\n        <section className=\"section\">\r\n          <h3 className=\"bg-secondary text-center rounded text-white page__subtitle\">\r\n            Output data\r\n          </h3>\r\n          <ul className=\"actions\">\r\n            {actions.map((action, i) => (\r\n              <li\r\n                key={action.text}\r\n                className={\r\n                  \"actions__item \" +\r\n                  (action.type === \"error\" && \"actions__item_error \")\r\n                }\r\n              >\r\n                <div className=\"actions__inner\">\r\n                  <p className=\"actions__number\">{i + 1}</p>\r\n                  <p className=\"actions__text\">{action.text}</p>\r\n                </div>\r\n                <p\r\n                  className={\r\n                    \"actions__status\" +\r\n                    (action.type === \"error\"\r\n                      ? \" actions__status_error\"\r\n                      : \" actions__status_info\")\r\n                  }\r\n                >\r\n                  {action.type === \"error\" ? (\r\n                    <i class=\"fas fa-times\" />\r\n                  ) : (\r\n                    <i className=\"fas fa-check\" />\r\n                  )}\r\n                </p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  integration: state.integration\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { onLaunch }\r\n)(withRouter(Integration));\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"./store/store\";\r\nimport App from \"./components/App\";\r\n\r\nimport { setAuthToken } from \"./store/actions/utils/auth\";\r\nimport { SET_USER } from \"./store/actions/constants\";\r\n\r\n// Check for token\r\nif (localStorage.outBandSales) {\r\n  setAuthToken(localStorage.outBandSales);\r\n  const decoded = jwt_decode(localStorage.outBandSales);\r\n  store.dispatch({ type: SET_USER, payload: decoded });\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\n// css\r\nimport \"./reset.scss\";\r\nimport \"./style.scss\";\r\n\r\n// credentials\r\nimport PrivatRoute from \"../Common/PrivateRoute\";\r\n\r\n// layout\r\nimport Header from \"../Header\";\r\nimport Footer from \"../Footer\";\r\n\r\n// pages\r\nimport Home from \"../Home\";\r\nimport Settings from \"../Settings\";\r\nimport SelectFile from \"../SelectFile\";\r\nimport SelectSheet from \"../SelectSheet\";\r\nimport Integration from \"../Integration\";\r\n\r\nexport default function index() {\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <Header />\r\n\r\n        <main className=\"main\">\r\n          <div className=\"container\">\r\n            <Route exact path=\"/\" component={Home} />\r\n\r\n            <Switch>\r\n              <PrivatRoute path=\"/settings\" component={Settings} />\r\n            </Switch>\r\n\r\n            <Switch>\r\n              <PrivatRoute\r\n                path=\"/integration/file/launch/:fileId/:sheetName\"\r\n                component={Integration}\r\n              />\r\n            </Switch>\r\n\r\n            <Switch>\r\n              <PrivatRoute\r\n                exact\r\n                path=\"/integration/file/:id\"\r\n                component={SelectSheet}\r\n              />\r\n            </Switch>\r\n\r\n            <Switch>\r\n              <PrivatRoute\r\n                exact\r\n                path=\"/integration/file\"\r\n                component={SelectFile}\r\n              />\r\n            </Switch>\r\n          </div>\r\n        </main>\r\n\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/homePage.e2f13e95.png\";","module.exports = __webpack_public_path__ + \"static/media/spinner.557336d4.gif\";"],"sourceRoot":""}